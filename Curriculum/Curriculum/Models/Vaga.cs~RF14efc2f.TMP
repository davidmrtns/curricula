using MySql.Data.MySqlClient;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;

namespace Curriculum.Models
{
    public class Vaga
    {
        //variáveis e código de conexão
        private string codVaga, cidade, estado, descricao;
        private string codConexao = "Server=localhost; Database=bdcurriculos; User id=root; Password=senaitable123";

        //propriedades
        public string CodVaga { get => codVaga; set => codVaga = value; }
        public string Cidade { get => cidade; set => cidade = value; }
        public string Estado { get => estado; set => estado = value; }
        public string Descricao { get => descricao; set => descricao = value; }

        //construtor
        public Vaga(string cidade, string estado, string descricao)
        {
            Cidade = cidade;
            Estado = estado;
            Descricao = descricao;
        }

        public void inserirVaga()
        {
            MySqlConnection con = new MySqlConnection(codConexao);

            try
            {
                con.Open();

                MySqlCommand query = new MySqlCommand("INSERT INTO vaga VALUES (@codVaga, @cidade, @estado, @descricao)", con);
                query.Parameters.AddWithValue("@codVaga", CodVaga);
                query.Parameters.AddWithValue("@cidade", Cidade);
                query.Parameters.AddWithValue("@estado", Estado);
                query.Parameters.AddWithValue("@descricao", Descricao);

                query.ExecuteNonQuery();

                con.Close();

            }
            catch
            {

            }
        }

    }
}